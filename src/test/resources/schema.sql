drop table if exists USER_TB CASCADE;
CREATE TABLE USER_TB(
    ID BIGINT generated by default as identity,
    USERNAME CHAR(32) NOT NULL,
    PASSWORD CHAR(60) NOT NULL,
    EMPLOYEE_ID CHAR(32) NOT NULL,
    DEPARTMENT CHAR(32) NOT NULL,
    ROLE VARCHAR(16) NOT NULL,
    CREATED_TIME DATETIME,
    MODIFIED_TIME DATETIME,
    PRIMARY KEY (ID),
    UNIQUE (USERNAME)
);

drop table if exists SOFTWARE CASCADE;
CREATE TABLE SOFTWARE (
    ID BIGINT generated by default as identity,
    SIGNATURE CHAR(32) NOT NULL,
    LOCALSTORE_NAME VARCHAR(256) NOT NULL,
    FILENAME VARCHAR(256) NOT NULL,
    UPLOADER_ID BIGINT,
    NICKNAME VARCHAR(256),
    CREATED_TIME DATETIME,
    MODIFIED_TIME DATETIME,
    PRIMARY KEY (ID)
);

drop table if exists SOFTWARE_REPORT CASCADE;
CREATE TABLE SOFTWARE_REPORT(
    ID BIGINT generated by default as identity,
    SOFTWARE_ID BIGINT NOT NULL,
    UPLOADER_ID BIGINT,
    TITLE VARCHAR(256) NOT NULL,
    CONTENTS VARCHAR(256) NOT NULL,
    LOCALSTORE_NAME VARCHAR(256) NOT NULL,
    FILENAME VARCHAR(256) NOT NULL,
    PURPOSES VARCHAR(256) NOT NULL,
    BEHAVIORS VARCHAR(256) NOT NULL,
    CREATED_TIME DATETIME,
    MODIFIED_TIME DATETIME,
    PRIMARY KEY (ID)
);